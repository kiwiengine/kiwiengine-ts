{"version":3,"file":"text.js","sourceRoot":"","sources":["../../src/game-object-ext/text.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,IAAI,IAAI,QAAQ,EAAE,MAAM,SAAS,CAAC;AAC3C,OAAO,EAAE,UAAU,EAAqB,MAAM,4BAA4B,CAAC;AAS3E,MAAM,UAA0C,SAAQ,UAAa;IACnE,SAAS,GAAG,IAAI,QAAQ,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;IAC1C,KAAK,CAAU;IACf,UAAU,CAA+B;IACzC,SAAS,CAAU;IACnB,MAAM,CAAU;IAEhB,YAAY,IAAwB;QAClC,KAAK,CAAC,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACnC,IAAI,IAAI,EAAE,CAAC;YACT,IAAI,IAAI,CAAC,IAAI;gBAAE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACrC,IAAI,IAAI,CAAC,SAAS;gBAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;YACpD,IAAI,IAAI,CAAC,QAAQ;gBAAE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YACjD,IAAI,IAAI,CAAC,KAAK;gBAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QAC1C,CAAC;IACH,CAAC;IAED,IAAI,IAAI;QACN,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED,IAAI,IAAI,CAAC,IAAwB;QAC/B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;IACnC,CAAC;IAED,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC;IAED,IAAI,SAAS,CAAC,SAAkD;QAC9D,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,SAAS,KAAK,SAAS;YAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC;IACtE,CAAC;IAED,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAED,IAAI,QAAQ,CAAC,QAA4B;QACvC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC1B,IAAI,QAAQ,KAAK,SAAS;YAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;IACvE,CAAC;IAED,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,IAAI,KAAK,CAAC,KAAyB;QACjC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,KAAK,KAAK,SAAS;YAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;IAC7D,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC;IACvC,CAAC;IAED,IAAI,OAAO,CAAC,KAAa;QACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,GAAG,GAAG,CAAC;IACxC,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC;IACvC,CAAC;IAED,IAAI,OAAO,CAAC,KAAa;QACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,GAAG,GAAG,CAAC;IACxC,CAAC;CACF;AAED,OAAO,EAAE,UAAU,EAAE,CAAC","sourcesContent":["import { EventMap } from '@webtaku/event-emitter';\nimport { Text as PixiText } from 'pixi.js';\nimport { GameObject, GameObjectOptions } from '../game-object/game-object';\n\ntype TextObjectOptions = {\n  text: string;\n  textAlign?: 'left' | 'center' | 'right';\n  fontSize?: number;\n  color?: string;\n} & GameObjectOptions;\n\nclass TextObject<E extends EventMap = EventMap> extends GameObject<E> {\n  #pixiText = new PixiText({ anchor: 0.5 });\n  #text?: string;\n  #textAlign?: 'left' | 'center' | 'right';\n  #fontSize?: number;\n  #color?: string;\n\n  constructor(opts?: TextObjectOptions) {\n    super(opts);\n    this._addPixiChild(this.#pixiText);\n    if (opts) {\n      if (opts.text) this.text = opts.text;\n      if (opts.textAlign) this.textAlign = opts.textAlign;\n      if (opts.fontSize) this.fontSize = opts.fontSize;\n      if (opts.color) this.color = opts.color;\n    }\n  }\n\n  get text() {\n    return this.#text;\n  }\n\n  set text(text: string | undefined) {\n    this.#text = text;\n    this.#pixiText.text = text || '';\n  }\n\n  get textAlign() {\n    return this.#textAlign;\n  }\n\n  set textAlign(textAlign: 'left' | 'center' | 'right' | undefined) {\n    this.#textAlign = textAlign;\n    if (textAlign !== undefined) this.#pixiText.style.align = textAlign;\n  }\n\n  get fontSize() {\n    return this.#fontSize;\n  }\n\n  set fontSize(fontSize: number | undefined) {\n    this.#fontSize = fontSize;\n    if (fontSize !== undefined) this.#pixiText.style.fontSize = fontSize;\n  }\n\n  get color() {\n    return this.#color;\n  }\n\n  set color(color: string | undefined) {\n    this.#color = color;\n    if (color !== undefined) this.#pixiText.style.fill = color;\n  }\n\n  get anchorX() {\n    return this.#pixiText.anchor.x - 0.5;\n  }\n\n  set anchorX(value: number) {\n    this.#pixiText.anchor.x = value + 0.5;\n  }\n\n  get anchorY() {\n    return this.#pixiText.anchor.y - 0.5;\n  }\n\n  set anchorY(value: number) {\n    this.#pixiText.anchor.y = value + 0.5;\n  }\n}\n\nexport { TextObject };\n"]}