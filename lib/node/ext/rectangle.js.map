{"version":3,"file":"rectangle.js","sourceRoot":"","sources":["../../../src/node/ext/rectangle.ts"],"names":[],"mappings":"AACA,OAAO,EAAa,QAAQ,EAAe,MAAM,SAAS,CAAA;AAC1D,OAAO,EAAE,iBAAiB,EAA4B,MAAM,uBAAuB,CAAA;AASnF,MAAM,OAAO,aAAc,SAAQ,iBAAqC;IACtE,MAAM,CAAQ;IACd,OAAO,CAAQ;IACf,KAAK,CAAY;IACjB,OAAO,CAAc;IAErB,YAAY,OAA6B;QACvC,KAAK,CAAC,IAAI,QAAQ,CAAC,EAAE,gBAAgB,EAAE,IAAI,EAAE,CAAC,EAAE,OAAO,CAAC,CAAA;QAExD,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,CAAA;QAC3B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAA;QAC7B,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,IAAI,CAAA;QACzB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAA;QAE7B,IAAI,CAAC,KAAK,EAAE,CAAA;IACd,CAAC;IAED,KAAK;QACH,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC,IAAI,CAC9B,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAChB,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,EACjB,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,CACb,CAAA;QACD,IAAI,IAAI,CAAC,KAAK;YAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;QACpD,IAAI,IAAI,CAAC,OAAO;YAAE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;IAC5D,CAAC;IAED,IAAI,KAAK,CAAC,CAAC;QACT,IAAI,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE,CAAC;YACtB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAA;YACf,IAAI,CAAC,KAAK,EAAE,CAAA;QACd,CAAC;IACH,CAAC;IACD,IAAI,KAAK,KAAK,OAAO,IAAI,CAAC,MAAM,CAAA,CAAC,CAAC;IAElC,IAAI,MAAM,CAAC,CAAC;QACV,IAAI,CAAC,KAAK,IAAI,CAAC,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAA;YAChB,IAAI,CAAC,KAAK,EAAE,CAAA;QACd,CAAC;IACH,CAAC;IACD,IAAI,MAAM,KAAK,OAAO,IAAI,CAAC,OAAO,CAAA,CAAC,CAAC;IAEpC,IAAI,IAAI,CAAC,CAAC;QACR,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,EAAE,CAAC;YACrB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA;YACd,IAAI,CAAC,KAAK,EAAE,CAAA;QACd,CAAC;IACH,CAAC;IACD,IAAI,IAAI,KAAK,OAAO,IAAI,CAAC,KAAK,CAAA,CAAC,CAAC;IAEhC,IAAI,MAAM,CAAC,CAAC;QACV,IAAI,CAAC,KAAK,IAAI,CAAC,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAA;YAChB,IAAI,CAAC,KAAK,EAAE,CAAA;QACd,CAAC;IACH,CAAC;IACD,IAAI,MAAM,KAAK,OAAO,IAAI,CAAC,OAAO,CAAA,CAAC,CAAC;CACrC","sourcesContent":["import { EventMap } from '@webtaku/event-emitter'\nimport { FillInput, Graphics, StrokeInput } from 'pixi.js'\nimport { TransformableNode, TransformableNodeOptions } from '../core/transformable'\n\nexport type RectangleNodeOptions = {\n  width: number\n  height: number\n  fill?: FillInput\n  stroke?: StrokeInput\n} & TransformableNodeOptions\n\nexport class RectangleNode extends TransformableNode<Graphics, EventMap> {\n  #width: number\n  #height: number\n  #fill?: FillInput\n  #stroke?: StrokeInput\n\n  constructor(options: RectangleNodeOptions) {\n    super(new Graphics({ sortableChildren: true }), options)\n\n    this.#width = options.width\n    this.#height = options.height\n    this.#fill = options.fill\n    this.#stroke = options.stroke\n\n    this.#draw()\n  }\n\n  #draw() {\n    this._pixiContainer.clear().rect(\n      -this.#width / 2,\n      -this.#height / 2,\n      this.#width,\n      this.#height,\n    )\n    if (this.#fill) this._pixiContainer.fill(this.#fill)\n    if (this.#stroke) this._pixiContainer.stroke(this.#stroke)\n  }\n\n  set width(v) {\n    if (v !== this.#width) {\n      this.#width = v\n      this.#draw()\n    }\n  }\n  get width() { return this.#width }\n\n  set height(v) {\n    if (v !== this.#height) {\n      this.#height = v\n      this.#draw()\n    }\n  }\n  get height() { return this.#height }\n\n  set fill(v) {\n    if (v !== this.#fill) {\n      this.#fill = v\n      this.#draw()\n    }\n  }\n  get fill() { return this.#fill }\n\n  set stroke(v) {\n    if (v !== this.#stroke) {\n      this.#stroke = v\n      this.#draw()\n    }\n  }\n  get stroke() { return this.#stroke }\n}\n"]}