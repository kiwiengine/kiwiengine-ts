{"version":3,"file":"font.js","sourceRoot":"","sources":["../../../src/asset/loaders/font.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,UAAU,CAAC;AAElC,MAAM,gBAAiB,SAAQ,MAAe;IACzB,KAAK,CAAC,KAAK,CAAC,QAAgB;QAC7C,MAAM,cAAc,GAAG,CAAC,KAAK,IAAI,EAAE;YACjC,IAAI,OAAO,IAAI,QAAQ,EAAE,CAAC;gBACxB,IAAI,CAAC;oBACH,MAAM,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,QAAQ,EAAE,CAAC,CAAC;oBAC7C,MAAM,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC;oBAC3B,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;oBACtC,OAAO,IAAI,CAAC;gBACd,CAAC;gBAAC,OAAO,KAAK,EAAE,CAAC;oBACf,OAAO,CAAC,KAAK,CAAC,wBAAwB,QAAQ,EAAE,EAAE,KAAK,CAAC,CAAC;oBACzD,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;gBACxC,CAAC;YACH,CAAC;iBAAM,CAAC;gBACN,OAAO,CAAC,IAAI,CAAC,oDAAoD,CAAC,CAAC;gBACnE,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACxC,CAAC;QACH,CAAC,CAAC,EAAE,CAAC;QAEL,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;QACnD,OAAO,MAAM,cAAc,CAAC;IAC9B,CAAC;CACF;AAED,MAAM,CAAC,MAAM,gBAAgB,GAAG,IAAI,gBAAgB,EAAE,CAAC","sourcesContent":["import { Loader } from './loader';\n\nclass FontFamilyLoader extends Loader<boolean> {\n  protected override async _load(fontName: string) {\n    const loadingPromise = (async () => {\n      if ('fonts' in document) {\n        try {\n          await document.fonts.load(`1em ${fontName}`);\n          await document.fonts.ready;\n          this.loadingPromises.delete(fontName);\n          return true;\n        } catch (error) {\n          console.error(`Failed to load font: ${fontName}`, error);\n          this.loadingPromises.delete(fontName);\n        }\n      } else {\n        console.warn(`This browser does not support the Font Loading API`);\n        this.loadingPromises.delete(fontName);\n      }\n    })();\n\n    this.loadingPromises.set(fontName, loadingPromise);\n    return await loadingPromise;\n  }\n}\n\nexport const fontFamilyLoader = new FontFamilyLoader();\n"]}