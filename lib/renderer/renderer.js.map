{"version":3,"file":"renderer.js","sourceRoot":"","sources":["../../src/renderer/renderer.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,KAAK,EAAE,MAAM,SAAS,CAAA;AAM/B,MAAM,OAAO,QAAQ;IAUA;IATnB,OAAO,GAA8B,EAAE,CAAA;IACvC,qBAAqB,GAAG,KAAK,CAAA;IAE7B,UAAU,GAAG,CAAC,CAAA;IACd,SAAS,GAAG,CAAC,CAAA;IACb,aAAa,GAAG,CAAC,CAAA;IACjB,OAAO,GAAG,CAAC,CAAA;IACX,OAAO,GAAG,CAAC,CAAA;IAEX,YAAmB,SAAsB,EAAE,OAAyB;QAAjD,cAAS,GAAT,SAAS,CAAa;QACvC,IAAI,OAAO,EAAE,MAAM,EAAE,CAAC;YACpB,KAAK,MAAM,KAAK,IAAI,OAAO,CAAC,MAAM,EAAE,CAAC;gBACnC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;YACvD,CAAC;QACH,CAAC;IACH,CAAC;IAED,WAAW,CAAC,IAAc,EAAE,SAAiB;QAC3C,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAA;QACrC,IAAI,CAAC,KAAK;YAAE,MAAM,IAAI,KAAK,CAAC,SAAS,SAAS,kBAAkB,CAAC,CAAA;QACjE,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA;IACjB,CAAC;CACF","sourcesContent":["import { GameNode } from '../node/core/game-node'\nimport { Layer } from './layer'\n\nexport type RendererOptions = {\n  layers?: { name: string; drawOrder: number }[]\n}\n\nexport class Renderer {\n  #layers: { [name: string]: Layer } = {}\n  _isContainerSizeDirty = false\n\n  canvasLeft = 0\n  canvasTop = 0\n  viewportScale = 1\n  centerX = 0\n  centerY = 0\n\n  constructor(public container: HTMLElement, options?: RendererOptions) {\n    if (options?.layers) {\n      for (const layer of options.layers) {\n        this.#layers[layer.name] = new Layer(layer.drawOrder)\n      }\n    }\n  }\n\n  _addToLayer(node: GameNode, layerName: string) {\n    const layer = this.#layers[layerName]\n    if (!layer) throw new Error(`Layer ${layerName} does not exist.`)\n    layer.add(node)\n  }\n}\n"]}