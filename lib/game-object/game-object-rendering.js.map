{"version":3,"file":"game-object-rendering.js","sourceRoot":"","sources":["../../src/game-object/game-object-rendering.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,SAAS,CAAC;AAGpC,MAAM,OAAO,mBAAmB;IAC9B,UAAU,GAAG,IAAI,SAAS,CAAC,EAAE,gBAAgB,EAAE,IAAI,EAAE,CAAC,CAAC;IACvD,gBAAgB,GAAG,KAAK,CAAC;IAEzB,QAAQ,CAAC,KAA0B,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IACpF,OAAO,KAAK,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;IAE1D,YAAY,CAAC,EAAkB;QAC7B,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK;YAAE,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3C,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;YAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAAC,IAAI,IAAI,CAAC,gBAAgB;gBAAE,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAAC,CAAC;QACnG,IAAI,EAAE,CAAC,MAAM,CAAC,KAAK;YAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;QAC3D,IAAI,EAAE,CAAC,MAAM,CAAC,KAAK;YAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;QAC3D,IAAI,EAAE,CAAC,MAAM,CAAC,KAAK;YAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;QAC3D,IAAI,EAAE,CAAC,MAAM,CAAC,KAAK;YAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;QAC3D,IAAI,EAAE,CAAC,QAAQ,CAAC,KAAK;YAAE,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;QAChE,IAAI,EAAE,CAAC,KAAK,CAAC,KAAK;YAAE,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IACzD,CAAC;IAED,IAAI,SAAS,KAAK,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;IAClD,IAAI,SAAS,CAAC,CAAS,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;IACxD,IAAI,eAAe,KAAK,OAAO,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;IACvD,IAAI,eAAe,CAAC,CAAU,IAAI,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC;QAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;CAC1G","sourcesContent":["import { Container } from 'pixi.js';\nimport { LocalTransform } from './transform';\n\nexport class GameObjectRendering {\n  _container = new Container({ sortableChildren: true });\n  #yBasedDrawOrder = false;\n\n  addChild(child: GameObjectRendering) { this._container.addChild(child._container); }\n  destroy() { this._container.destroy({ children: true }); }\n\n  applyChanges(lt: LocalTransform) {\n    if (lt.x.dirty) this._container.x = lt.x.v;\n    if (lt.y.dirty) { this._container.y = lt.y.v; if (this.#yBasedDrawOrder) this.drawOrder = lt.y.v; }\n    if (lt.pivotX.dirty) this._container.pivot.x = lt.pivotX.v;\n    if (lt.pivotY.dirty) this._container.pivot.y = lt.pivotY.v;\n    if (lt.scaleX.dirty) this._container.scale.x = lt.scaleX.v;\n    if (lt.scaleY.dirty) this._container.scale.y = lt.scaleY.v;\n    if (lt.rotation.dirty) this._container.rotation = lt.rotation.v;\n    if (lt.alpha.dirty) this._container.alpha = lt.alpha.v;\n  }\n\n  get drawOrder() { return this._container.zIndex; }\n  set drawOrder(v: number) { this._container.zIndex = v; }\n  get yBasedDrawOrder() { return this.#yBasedDrawOrder; }\n  set yBasedDrawOrder(v: boolean) { this.#yBasedDrawOrder = v; if (v) this.drawOrder = this._container.y; }\n}\n"]}